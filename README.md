# llm-mysteries

## Highlights

### Attempt 1
- Base lines are generated by [main](main.py) and [main_gpt](main__gpt.py).

### Attempt 2
- [graph](graph.py) asks the LLM for exonerating and incriminating evidence for each suspect and symbolically combines the result.

### Attempt 3
Inspired by [_LMs for Rationality_](https://arxiv.org/abs/2305.14250),
- [mystery](mystery.py) transforms a belief graph into a MaxSAT problem to be optimized for debugging consistency;
- [belief_graph](belief_graph.py) elicits a belief graph for a story.

## Libraries

- [tms](tms.py) is a basic probabilistic Truth-Maintenance System (TMS) with a MaxSAT backend.
  - [tms_z3](tms_z3.py) is the Z3 backend.
  - [tms_rc2](tms_rc2.py) is the [RC2](https://pysathq.github.io/docs/html/api/examples/rc2.html) backend.
  - [tms_mystery](tms_mystery.py) is [mystery](mystery.py) re-written to use the TMS. 

## Installation

### In this repo
- `git submodule init`
- `git submodule update`

### Python env
- `pip install git+https://github.com/huggingface/transformers.git`
- `pip install "outlines @ git+https://github.com/outlines-dev/outlines.git@main"`
- `pip install z3-solver`
- `pip install python-sat`
